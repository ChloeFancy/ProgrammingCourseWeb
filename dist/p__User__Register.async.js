(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{"5WY0":function(e,t,r){e.exports={main:"antd-pro-pages-user-register-main",getCaptcha:"antd-pro-pages-user-register-getCaptcha",submit:"antd-pro-pages-user-register-submit",login:"antd-pro-pages-user-register-login",error:"antd-pro-pages-user-register-error",success:"antd-pro-pages-user-register-success",warning:"antd-pro-pages-user-register-warning","progress-pass":"antd-pro-pages-user-register-progress-pass",progress:"antd-pro-pages-user-register-progress"}},cq3J:function(e,t,r){"use strict";r.r(t);r("+L6B");var a=r("2/Rp"),n=(r("Q9mQ"),r("q1tI")),o=r.n(n),s=r("3S7+"),i=r("wEI+"),l=r("6CfX");function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},p.apply(this,arguments)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),e}function f(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}var y=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&(r[a[n]]=e[a[n]])}return r},w=function(e){function t(){var e;return u(this,t),e=f(this,v(t).apply(this,arguments)),e.saveTooltip=function(t){e.tooltip=t},e.renderPopover=function(t){var r=t.getPrefixCls,a=e.props,o=a.prefixCls,i=y(a,["prefixCls"]);delete i.title;var l=r("popover",o);return n["createElement"](s["a"],p({},i,{prefixCls:l,ref:e.saveTooltip,overlay:e.getOverlay(l)}))},e}return h(t,e),d(t,[{key:"getPopupDomNode",value:function(){return this.tooltip.getPopupDomNode()}},{key:"getOverlay",value:function(e){var t=this.props,r=t.title,a=t.content;return Object(l["a"])(!("overlay"in this.props),"Popover","`overlay` is removed, please use `content` instead, see: https://u.ant.design/popover-content"),n["createElement"]("div",null,r&&n["createElement"]("div",{className:"".concat(e,"-title")},r),n["createElement"]("div",{className:"".concat(e,"-inner-content")},a))}},{key:"render",value:function(){return n["createElement"](i["a"],null,this.renderPopover)}}]),t}(n["Component"]);w.defaultProps={placement:"top",transitionName:"zoom-big",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{}};r("MXD1");var E,O,j,P,M=r("CFYs"),S=r("p0pE"),k=r.n(S),C=r("2Taf"),N=r.n(C),x=r("vZ4D"),F=r.n(x),D=r("l4Ni"),q=r.n(D),z=r("ujKo"),_=r.n(z),I=r("MhPg"),T=r.n(I),V=(r("7Kak"),r("9yH6")),Y=(r("5NDa"),r("5rEg")),L=(r("OaEy"),r("2fM7")),Q=(r("y8nQ"),r("Vl3Y")),W=r("MuoO"),G=r("Y2fQ"),J=r("mOP9"),K=r("usdK"),U=r("5WY0"),X=r.n(U),A=r("OLAX"),B=Q["a"].Item,R=(L["a"].Option,Y["a"].Group,V["a"].Group),H={ok:o.a.createElement("div",{className:X.a.success},o.a.createElement(G["FormattedMessage"],{id:"validation.password.strength.strong"})),pass:o.a.createElement("div",{className:X.a.warning},o.a.createElement(G["FormattedMessage"],{id:"validation.password.strength.medium"})),poor:o.a.createElement("div",{className:X.a.error},o.a.createElement(G["FormattedMessage"],{id:"validation.password.strength.short"}))},Z={ok:"success",pass:"normal",poor:"exception"},$=(E=Object(W["connect"])(function(e){var t=e.register,r=e.loading;return{register:t,submitting:r.effects["register/submit"]}}),O=Q["a"].create(),E(j=O((P=function(e){function t(){var e,r;N()(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return r=q()(this,(e=_()(t)).call.apply(e,[this].concat(n))),r.state={count:0,confirmDirty:!1,visible:!1,help:"",prefix:"86"},r.onGetCaptcha=function(){var e=59;r.setState({count:e}),r.interval=setInterval(function(){e-=1,r.setState({count:e}),0===e&&clearInterval(r.interval)},1e3)},r.getPasswordStatus=function(){var e=r.props.form,t=e.getFieldValue("password");return t&&t.length>9?"ok":t&&t.length>5?"pass":"poor"},r.handleSubmit=function(e){e.preventDefault();var t=r.props,a=t.form,n=t.dispatch;a.validateFields({force:!0},function(e,t){if(!e){var a=r.state.prefix;n({type:"register/submit",payload:{user:k()({},t,{prefix:a})}})}})},r.handleConfirmBlur=function(e){var t=e.target.value,a=r.state.confirmDirty;r.setState({confirmDirty:a||!!t})},r.checkConfirm=function(e,t,a){var n=r.props.form;t&&t!==n.getFieldValue("password")?a(Object(G["formatMessage"])({id:"validation.password.twice"})):a()},r.checkPassword=function(e,t,a){var n=r.state,o=n.visible,s=n.confirmDirty;if(t)if(r.setState({help:""}),o||r.setState({visible:!!t}),t.length<6)a("error");else{var i=r.props.form;t&&s&&i.validateFields(["confirm"],{force:!0}),a()}else r.setState({help:Object(G["formatMessage"])({id:"validation.password.required"}),visible:!!t}),a("error")},r.renderPasswordProgress=function(){var e=r.props.form,t=e.getFieldValue("password"),a=r.getPasswordStatus();return t&&t.length?o.a.createElement("div",{className:X.a["progress-".concat(a)]},o.a.createElement(M["a"],{status:Z[a],className:X.a.progress,strokeWidth:6,percent:10*t.length>100?100:10*t.length,showInfo:!1})):null},r}return T()(t,e),F()(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.form,r=e.register,a=t.getFieldValue("mail");r.status&&K["a"].push({pathname:"/user/register-result",state:{account:a}})}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props,t=e.form,r=e.submitting,n=t.getFieldDecorator,s=this.state,i=s.help,l=s.visible;return o.a.createElement("div",{className:X.a.main},o.a.createElement("h3",null,o.a.createElement(G["FormattedMessage"],{id:"app.register.register"})),o.a.createElement(Q["a"],{onSubmit:this.handleSubmit},o.a.createElement(B,{label:Object(G["formatMessage"])({id:"form.account.placeholder"})},n(A["e"].account,{rules:[{required:!0,message:Object(G["formatMessage"])({id:"validation.account.required"})}]})(o.a.createElement(Y["a"],{size:"large"}))),o.a.createElement(B,{label:Object(G["formatMessage"])({id:"form.name.label"})},n(A["e"].name,{rules:[{required:!0,message:Object(G["formatMessage"])({id:"validation.name.required"})}]})(o.a.createElement(Y["a"],{size:"large"}))),o.a.createElement(B,{label:Object(G["formatMessage"])({id:"form.password.label"}),help:i},o.a.createElement(w,{getPopupContainer:function(e){return e.parentNode},content:o.a.createElement("div",{style:{padding:"4px 0"}},H[this.getPasswordStatus()],this.renderPasswordProgress(),o.a.createElement("div",{style:{marginTop:10}},o.a.createElement(G["FormattedMessage"],{id:"validation.password.strength.msg"}))),overlayStyle:{width:240},placement:"right",visible:l},n(A["e"].password,{rules:[{validator:this.checkPassword},{required:!0}]})(o.a.createElement(Y["a"],{size:"large",type:"password",placeholder:Object(G["formatMessage"])({id:"form.password.placeholder"})})))),o.a.createElement(B,{label:Object(G["formatMessage"])({id:"form.confirm-password.placeholder"})},n("confirm",{rules:[{required:!0,message:Object(G["formatMessage"])({id:"validation.confirm-password.required"})},{validator:this.checkConfirm}]})(o.a.createElement(Y["a"],{size:"large",type:"password"}))),o.a.createElement(B,{label:Object(G["formatMessage"])({id:"form.phone-number.placeholder"})},n(A["e"].phone,{rules:[{pattern:/^\d{11}$/,message:Object(G["formatMessage"])({id:"validation.phone-number.wrong-format"})}]})(o.a.createElement(Y["a"],{size:"large"}))),o.a.createElement(B,{label:Object(G["formatMessage"])({id:"form.sex.label"})},n(A["e"].sex)(o.a.createElement(R,null,o.a.createElement(V["a"],{value:0},"\u7537"),o.a.createElement(V["a"],{value:1},"\u5973")))),o.a.createElement(B,{label:Object(G["formatMessage"])({id:"form.email.placeholder"})},n("mail",{rules:[{type:"email",message:Object(G["formatMessage"])({id:"validation.email.wrong-format"})}]})(o.a.createElement(Y["a"],{size:"large"}))),o.a.createElement(B,null,o.a.createElement(a["a"],{size:"large",loading:r,className:X.a.submit,type:"primary",htmlType:"submit"},o.a.createElement(G["FormattedMessage"],{id:"app.register.register"})),o.a.createElement(J["a"],{className:X.a.login,to:"/User/Login"},o.a.createElement(G["FormattedMessage"],{id:"app.register.sign-in"})))))}}]),t}(n["Component"]),j=P))||j)||j);t["default"]=$}}]);