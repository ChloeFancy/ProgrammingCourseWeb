(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{zLZX:function(e,a,n){"use strict";n.r(a);n("14J3");var t,r,l,o=n("BMrR"),c=(n("jCWc"),n("kPKH")),i=n("d6i3"),s=n.n(i),u=(n("miYZ"),n("tsqr")),p=n("1l/V"),m=n.n(p),d=n("2Taf"),f=n.n(d),h=n("vZ4D"),E=n.n(h),v=n("l4Ni"),y=n.n(v),g=n("ujKo"),w=n.n(g),b=n("MhPg"),C=n.n(b),k=n("p0pE"),q=n.n(k),j=n("q1tI"),B=n.n(j),F=n("MuoO"),I=n("usdK"),O=(n("+L6B"),n("2/Rp")),S=(n("5NDa"),n("5rEg")),D=n("eHn4"),L=n.n(D),M=n("qIgq"),T=n.n(M),A=(n("y8nQ"),n("Vl3Y")),N=n("Y2fQ"),P=n("OLAX"),V=n("TNBE"),x=A["a"].Item,J=function(e){function a(){var e,n;f()(this,a);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return n=y()(this,(e=w()(a)).call.apply(e,[this].concat(r))),n.handleSubmit=function(e){e.preventDefault(),n.props.form.validateFieldsAndScroll(function(e,a){if(!e){var t=a.account,r=a.name,l=a.password,o=a.email,c={account:t,name:r,password:l,email:o},i=Object.entries(c).reduce(function(e,a){var n=T()(a,2),t=n[0],r=n[1];return r?q()({},e,L()({},t,r)):e},{});n.props.onSubmit(i)}})},n.checkConfirm=function(e,a,t){var r=n.props.form;r.getFieldValue("password")&&a!==r.getFieldValue("password")?t(Object(N["formatMessage"])({id:"validation.password.twice"})):t()},n}return C()(a,e),E()(a,[{key:"render",value:function(){var e=this.props,a=e.form.getFieldDecorator,n=e.onBack;return B.a.createElement("div",null,B.a.createElement(A["a"],{onSubmit:this.handleSubmit},B.a.createElement(o["a"],null,B.a.createElement(x,{label:"\u7528\u6237\u540d"},a(P["e"].account,{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}]})(B.a.createElement(S["a"],null)))),B.a.createElement(o["a"],null,B.a.createElement(x,{label:"\u771f\u5b9e\u59d3\u540d"},a(P["e"].name,{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u771f\u5b9e\u59d3\u540d"}]})(B.a.createElement(S["a"],null)))),B.a.createElement(o["a"],null,B.a.createElement(x,{label:"\u65b0\u5bc6\u7801"},a(P["e"].password)(B.a.createElement(S["a"],{placeholder:"\u7559\u7a7a\u5219\u4fdd\u7559\u539f\u5bc6\u7801",type:"password"})))),B.a.createElement(o["a"],null,B.a.createElement(x,{label:"\u91cd\u590d\u65b0\u5bc6\u7801"},a("repeatPassword",{rules:[{validator:this.checkConfirm}]})(B.a.createElement(S["a"],{placeholder:"\u8bf7\u786e\u8ba4\u65b0\u5bc6\u7801",type:"password"})))),B.a.createElement(o["a"],null,B.a.createElement(x,{label:"\u7535\u5b50\u90ae\u7bb1"},a(P["e"].email,{rules:[{type:"email",message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1\u5730\u5740"},{required:!0,message:"\u8bf7\u8f93\u5165\u7535\u5b50\u90ae\u7bb1"}]})(B.a.createElement(S["a"],{type:"email"})))),B.a.createElement(o["a"],null,B.a.createElement(O["a"],{htmlType:"submit",type:"primary"},"\u4fdd\u5b58"),"\xa0\xa0\xa0\xa0\xa0\xa0",B.a.createElement(O["a"],{htmlType:"button",onClick:n},"\u8fd4\u56de"))))}}]),a}(j["Component"]),K=A["a"].create({mapPropsToFields:function(e){return Object(V["d"])(e.info)},onFieldsChange:function(e,a){e.onChange(a)}})(J),Y=n("w2qy"),Z=n.n(Y),H=(t=Object(F["connect"])(function(e){var a=e.personalCenter;return q()({},a)}),t((l=function(e){function a(){var e,n;f()(this,a);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return n=y()(this,(e=w()(a)).call.apply(e,[this].concat(r))),n.submitLoginInfo=function(){var e=m()(s.a.mark(function e(a){var t,r;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=n.props.dispatch,e.next=3,t({type:"personalCenter/submit",payload:a});case 3:r=e.sent,r?u["a"].success("\u4fee\u6539\u6210\u529f\uff0c\u8bf7\u91cd\u65b0\u767b\u9646",1.5,function(){I["a"].push("/user/login")}):u["a"].error("\u4fee\u6539\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5");case 5:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),n.onChange=function(e){var a=n.props.dispatch;a({type:"personalCenter/changeInfo",payload:q()({},e)})},n.onBack=function(){I["a"].go(-1)},n}return C()(a,e),E()(a,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"personalCenter/init"})}},{key:"render",value:function(){var e=this.props.info;return B.a.createElement("div",{className:Z.a["login-wrapper"]},B.a.createElement("h1",null,"\u4e2a\u4eba\u4fe1\u606f"),B.a.createElement(o["a"],{type:"flex",justify:"center"},B.a.createElement(c["a"],{span:10},B.a.createElement(K,{info:e,onSubmit:this.submitLoginInfo,onChange:this.onChange,onBack:this.onBack}))))}}]),a}(j["Component"]),r=l))||r);a["default"]=H}}]);