(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{wDS9:function(e,a,n){"use strict";n.r(a),n.d(a,"default",function(){return Z});n("T2oS");var t,r,l,i=n("W9HT"),o=n("qIgq"),u=n.n(o),c=n("d6i3"),p=n.n(c),d=(n("miYZ"),n("tsqr")),s=n("1l/V"),m=n.n(s),h=n("eHn4"),f=n.n(h),g=n("2Taf"),v=n.n(g),E=n("vZ4D"),b=n.n(E),I=n("l4Ni"),y=n.n(I),S=n("ujKo"),x=n.n(S),w=n("MhPg"),C=n.n(w),k=(n("7Kak"),n("9yH6")),D=(n("Znn+"),n("ZTPi")),N=n("q1tI"),M=n.n(N),P=n("MuoO"),L=n("usdK"),O=n("QjGI"),T=n.n(O),B=(n("mki7"),n("enqM"),n("p77/"),n("11Mh")),j=(n("veNr"),n("XIgf")),q=n.n(j),H=D["a"].TabPane,K=k["a"].Group,Z=(t=Object(P["connect"])(function(e){var a=e.studentContest;return{languageOptions:a.languageOptions,paperInfo:a.paperInfo,paperLoading:a.paperLoading}}),t((l=function(e){function a(){var e,n;v()(this,a);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return n=y()(this,(e=x()(a)).call.apply(e,[this].concat(r))),n.handleStudentSubmitInfoChange=function(e){return function(a){var t=n.props.dispatch;t({type:"problemDetail/changeStudentSubmitInfo",payload:f()({},e,a.target.value)})}},n.handleCodeChange=function(e){var a=e.getValue(),t=n.props.dispatch;t({type:"problemDetail/changeStudentSubmitInfo",payload:{code:a}})},n.checkBeforeSubmit=function(){var e=n.props.studentSubmitInfo,a=e.language,t=e.code,r="";return a?t||(r="\u8bf7\u586b\u5199\u4ee3\u7801"):r="\u8bf7\u9009\u62e9\u8bed\u8a00",r},n.handleSubmitCode=m()(p.a.mark(function e(){var a,t;return p.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=n.props.dispatch,t=n.checkBeforeSubmit(),t?d["a"].error(t):a({type:"problemDetail/submitCodeByStudent"});case 3:case"end":return e.stop()}},e)})),n.handleShowSizeChange=function(e,a){var t=n.props,r=t.dispatch,l=t.submitRecords.pageSize,i=t.match.params.id;r({type:"problemDetail/setSubmitRecords",payload:{pageIndex:e,pageSize:a||l}}),r({type:"problemDetail/getSubmitRecords",payload:{id:i}})},n.renderProblemBasicInfo=function(e){return M.a.createElement("div",{className:q.a.problemBasicInfo},M.a.createElement("h1",{className:q.a.title},e[B["a"].title.dataIndex]),M.a.createElement("div",{className:q.a.info},M.a.createElement("span",null,"\u65f6\u95f4\u9650\u5236(ms):",e[B["a"].judgeLimitTime.dataIndex]),M.a.createElement("span",null,"\u5185\u5b58\u9650\u5236(MB):",e[B["a"].judgeLimitMem.dataIndex])))},n.renderProblemDetail=function(e){var a=n.props.languageOptions;return M.a.createElement(N["Fragment"],null,n.renderProblemBasicInfo(e),M.a.createElement("div",{className:q.a.detailWrapper},M.a.createElement("h5",null,"\u63cf\u8ff0"),M.a.createElement("div",{dangerouslySetInnerHTML:{__html:e[B["a"].description.dataIndex]}}),M.a.createElement("h5",null,"\u8f93\u5165"),M.a.createElement("div",null,e[B["a"].in.dataIndex]),M.a.createElement("h5",null,"\u8f93\u51fa"),M.a.createElement("div",null,e[B["a"].out.dataIndex]),e[B["a"].inOutExamples.dataIndex]&&e[B["a"].inOutExamples.dataIndex].map(function(e,a){var n=e.input,t=e.output;return M.a.createElement("div",{key:a},M.a.createElement("h5",null,"\u6837\u4f8b\u8f93\u5165",a+1),M.a.createElement("div",{className:q.a.example},n),M.a.createElement("h5",null,"\u6837\u4f8b\u8f93\u51fa",a+1),M.a.createElement("div",{className:q.a.example},t))}),M.a.createElement("h5",null,"\u63d0\u793a"),M.a.createElement("div",{dangerouslySetInnerHTML:{__html:e[B["a"].hint.dataIndex]}}),M.a.createElement("h5",null,"\u9009\u62e9\u8bed\u8a00"),M.a.createElement("div",null,M.a.createElement(K,{onChange:n.handleStudentSubmitInfoChange("language"),value:""},a.map(function(e){var a=e.key,n=e.value;return M.a.createElement(k["a"],{key:n,value:n},a)}))),M.a.createElement("h5",null,"\u63d0\u4ea4\u4ee3\u7801"),M.a.createElement("div",{className:q.a["code-editor-wrapper"]},M.a.createElement(T.a,{value:"",options:{mode:"c++",lineNumbers:!0},onChanges:n.handleCodeChange}))))},n}return C()(a,e),b()(a,[{key:"componentDidMount",value:function(){var e=m()(p.a.mark(function e(){var a,n,t,r,l,i;return p.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=this.props,n=a.match.params.id,t=a.dispatch,e.next=3,Promise.all([t({type:"studentContest/getLanguageOptions"}),t({type:"studentContest/getPaperInfo",payload:{id:n}})]);case 3:r=e.sent,l=u()(r,2),l[0],i=l[1],i||d["a"].error("\u65e0\u6548\u8003\u8bd5\u9875\u9762\uff0c\u5373\u5c06\u8fd4\u56de\u5217\u8868\u9875",1.5,function(){L["a"].push("/student/contest/list")});case 8:case"end":return e.stop()}},e,this)}));function a(){return e.apply(this,arguments)}return a}()},{key:"render",value:function(){var e=this,a=this.props,n=a.paperLoading,t=a.paperInfo;return M.a.createElement(i["a"],{spinning:n},M.a.createElement(D["a"],{defaultActiveKey:"0"},t&&t.problems&&t.problems.length?t.problems.map(function(a,n){return M.a.createElement(H,{tab:"\u9898\u76ee".concat(n+1),key:n},e.renderProblemDetail(a))}):[]))}}]),a}(N["Component"]),r=l))||r)}}]);